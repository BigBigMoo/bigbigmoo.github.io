<!DOCTYPE HTML>
<!--
	Helios by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>java 内存泄漏</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet"  href="/bigmoo/mb1/resource/assets/css/main.css" />
		<noscript><link rel="stylesheet"  href="/bigmoo/mb1/resource/assets/css/noscript.css" /></noscript>

<script type="text/javascript" src="/bigmoo/mb1//js/common/jquery-1.9.1.min.js"></script>
<script>
	var global_siteId = "4028ba817385534401738555e7d30000";
	var global_channelId = "4028ba817388fc8b0173891e30c50005";
	var global_articleId = "4028ba81739fc4a501739fe80e740020";
</script>
<script type="text/javascript" src="/bigmoo/mb1//js/common/common.js"></script>

	</head>
	<body class="no-sidebar is-preload">
		<div id="page-wrapper">

			<!-- Header -->
<div id="header">
	<!-- Nav -->
	<nav id="nav">
		<ul>
			<li>
				<a href="https://bigbigmoo.github.io">主页</a>
			</li>
			<li>
				
				<a href="#">后端技术</a>
				<ul>
					<li>
						
						<a href="/bigmoo/mb1/hdjs/javajc/index.html?tm=1596115652397">java基础</a>
					</li>
					<li>
						
						<a href="/bigmoo/mb1/hdjs/spring/index.html?tm=1596115652412">spring</a>
					</li>
					
					<li>
						
						<a href="/bigmoo/mb1/sjkxg/index.html?tm=1596115652412">数据库</a>
					</li>
						
				</ul>	
					<!--<li>
						<a href="#">子菜单4 &hellip;</a>
						<ul>
							<li>
								<a href="#">子菜单4.1</a>
							</li>
							
						</ul>
					</li>-->
			
			</li>
			<li>
				
				<a href="/bigmoo/mb1/qdxx/index.html?tm=1596115652428">前端学习</a>
			</li>
			
			<li>
				<a href="#">综合知识</a>
				<ul>
					
					
					<li>
						<a href="/bigmoo/mb1/zjj/index.html?tm=1596115652450">中间件</a>
					</li>
					
					<li>
				
						<a href="/bigmoo/mb1/ywzs/index.html?tm=1596115652466">运维知识</a>
					</li>
				
					<li>
						
						<a href="/bigmoo/mb1/mstj/index.html?tm=1596115652466">面试题集</a>
					</li>
					
				</ul>	
			
			
			</li>
			
		</ul>
	</nav>

</div>
			<!-- Main -->
				<div class="wrapper style1">

					<div class="container">
						<article id="main" class="special">
							<header>
								<h2><a href="#"> java 内存泄漏</a></h2>
								<p>
									2018年05月30日
								</p>
							</header>
						
							<p>
<div style="-en-clipboard:true;"><span><span style="box-sizing: border-box;"><span style="font-size: 14px; box-sizing: border-box; color: red; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-weight: bold; line-height: 1.8em;">1.内存溢出 out of memory 指程序在申请内存时，没有足够的内存空间供其使用</span></span><span style="font-size: 14px; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;">，出现out of memory；比如申请了一个integer,但给它存了long才能存下的数，那就是内存溢出。</span></span></div>

<div><span><span style="box-sizing: border-box;"><span style="font-size: 14px; box-sizing: border-box; color: blue; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-weight: bold; line-height: 1.8em;">2.内存泄露 memory leak是指程序在申请内存后，无法释放已申请的内存空间</span></span><span style="font-size: 14px; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;">，一次内存泄露危害可以忽略，但内存泄露堆积后果很严重，无论多少内存,迟早会被占光。</span></span></div>

<div><span><span style="box-sizing: border-box; font-size: medium;"><span style="box-sizing: border-box;"><span style="font-size: medium; box-sizing: border-box; color: red; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-weight: bold; line-height: 1.8em;">memory leak会最终会导致out of memory！</span></span></span></span></div>

<div><span><span style="font-size: 14px; box-sizing: border-box; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-weight: bold; line-height: 1.8em;">内存溢出就是你要求分配的内存超出了系统能给你的，系统不能满足需求，于是产生溢出。</span></span></div>

<div><span><span style="box-sizing: border-box; font-size: large;"><span style="box-sizing: border-box;"><span style="font-size: large; box-sizing: border-box; color: blue; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-weight: bold; line-height: 1.8em;">内存泄漏是指你向系统申请分配内存进行使用(new)，可是使用完了以后却不归还(delete)，结果你申请到的那块内存你自己也不能再访问（也许你把它的地址给弄丢了），而系统也不能再次将它分配给需要的程序。</span></span></span></span></div>

<div><span><span style="font-size: 14px; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;">一个盘子用尽各种方法只能装4个果子，你装了5个，结果掉倒地上不能吃了。这就是溢出！比方说栈，栈满时再做进栈必定产生空间溢出，叫上溢，栈空时再做退栈也产生空间溢出，称为下溢。就是分配的内存不足以放下数据项序列,称为内存溢出.</span></span></div>

<div><span><span style="box-sizing: border-box; font-size: medium;"><span style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span style="box-sizing: border-box; background-color: rgb(255, 250, 165); transition: background-color 0.4s ease 0s; font-size: medium; font-weight: bold; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;" title="点击以取消高亮显示">以发生的方式来分类，内存泄漏可以分为4类：</span></strong></span></span></span></div>

<div><span><span style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span style="box-sizing: border-box; background-color: rgb(255, 250, 165); transition: background-color 0.4s ease 0s; font-size: 14px; font-weight: bold; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;" title="点击以取消高亮显示">1.常发性内存泄漏。</span></strong></span><span style="box-sizing: border-box; background-color: rgb(255, 250, 165); transition: background-color 0.4s ease 0s; font-size: 14px; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;" title="点击以取消高亮显示">发生内存泄漏的代码会被多次执行到，每次被执行的时候都会导致一块内存泄漏。</span></span></div>

<div><span><span style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span style="box-sizing: border-box; background-color: rgb(255, 250, 165); transition: background-color 0.4s ease 0s; font-size: 14px; font-weight: bold; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;" title="点击以取消高亮显示">2.偶发性内存泄漏。</span></strong></span><span style="box-sizing: border-box; background-color: rgb(255, 250, 165); transition: background-color 0.4s ease 0s; font-size: 14px; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;" title="点击以取消高亮显示">发生内存泄漏的代码只有在某些特定环境或操作过程下才会发生。常发性和偶发性是相对的。对于特定的环境，偶发性的也许就变成了常发性的。所以测试环境和测试方法对检测内存泄漏至关重要。</span></span></div>

<div><span><span style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span style="box-sizing: border-box; background-color: rgb(255, 250, 165); transition: background-color 0.4s ease 0s; font-size: 14px; font-weight: bold; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;" title="点击以取消高亮显示">3. 一次性内存泄漏。</span></strong></span><span style="box-sizing: border-box; background-color: rgb(255, 250, 165); transition: background-color 0.4s ease 0s; font-size: 14px; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;" title="点击以取消高亮显示">发生内存泄漏的代码只会被执行一次，或者由于算法上的缺陷，导致总会有一块仅且一块内存发生泄漏。比如，在类的构造函数中分配内存，在析构函数中却没有释放该内存，所以内存泄漏只会发生一次。</span></span></div>

<div><span><span style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span style="box-sizing: border-box; background-color: rgb(255, 250, 165); transition: background-color 0.4s ease 0s; font-size: 14px; font-weight: bold; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;" title="点击以取消高亮显示">4.隐式内存泄漏。</span></strong></span><strong style="box-sizing: border-box;"><span style="box-sizing: border-box; background-color: rgb(255, 250, 165); transition: background-color 0.4s ease 0s; font-size: 14px; font-weight: bold; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;" title="点击以取消高亮显示">程序在运行过程中不停的分配内存，但是直到结束的时候才释放内存。严格的说这里并没有发生内存泄漏，因为最终程序释放了所有申请的内存。但是对于一个服务器程序，需要运行几天，几周甚至几个月，不及时释放内存也可能导致最终耗尽系统的所有内存。所以，我们称这类内存泄漏为隐式内存泄漏。</span></strong></span></div>

<div><span><span style="font-size: 14px; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;">从用户使用程序的角度来看，内存泄漏本身不会产生什么危害，作为一般的用户，根本感觉不到内存泄漏的存在。</span><span style="box-sizing: border-box; font-size: medium;"><span style="box-sizing: border-box;"><span style="font-size: medium; box-sizing: border-box; color: red; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-weight: bold; line-height: 1.8em;">真正有危害的是内存泄漏的堆积，这会最终消耗尽系统所有的内存。</span></span></span><span style="font-size: 14px; color: black; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; line-height: 1.8em;">从这个角度来说，一次性内存泄漏并没有什么危害，因为它不会堆积，而隐式内存泄漏危害性则非常大，因为较之于常发性和偶发性内存泄漏它更难被检测到 。</span></span></div>
							</p>
							
						</article>

					</div>

				</div>

			<!-- Footer -->
<div id="footer">
	<div class="container">
		
		<div class="row">
			<div class="col-12">

				<!-- Contact -->
				<section class="contact">
					<header>
						<h3>傻人有傻福，但是傻逼没有。</h3>
					</header>
					<p>不要浮躁，每天做好自己，努力扎根，努力成长，不要轻言放弃，总有一天，你会发现原来自己是个土豆。</p>
					<!--<ul class="icons">
						<li>
							<a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a>
						</li>
						<li>
							<a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a>
						</li>
						<li>
							<a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a>
						</li>
						<li>
							<a href="#" class="icon brands fa-pinterest"><span class="label">Pinterest</span></a>
						</li>
						<li>
							<a href="#" class="icon brands fa-dribbble"><span class="label">Dribbble</span></a>
						</li>
						<li>
							<a href="#" class="icon brands fa-linkedin-in"><span class="label">Linkedin</span></a>
						</li>
					</ul>-->
				</section>

				<!-- Copyright -->
				<div class="copyright">
					<ul class="menu">
						<li>&copy; Untitled. All rights reserved.</li>
						<li>Design:
							<a href="https://bigbigmoo.github.io">bigbigmoo.github.io</a>
						</li>
					</ul>
				</div>

			</div>

		</div>
	</div>
</div>

		</div>

			<!-- Scripts -->
			<script src="/bigmoo/mb1/resource/assets/js/jquery.min.js"></script>
			<script src="/bigmoo/mb1/resource/assets/js/jquery.dropotron.min.js"></script>
			<script src="/bigmoo/mb1/resource/assets/js/jquery.scrolly.min.js"></script>
			<script src="/bigmoo/mb1/resource/assets/js/jquery.scrollex.min.js"></script>
			<script src="/bigmoo/mb1/resource/assets/js/jquery.browser.min.js"></script>
			<script src="/bigmoo/mb1/resource/assets/js/breakpoints.min.js"></script>
			<script src="/bigmoo/mb1/resource/assets/js/util.js"></script>
			<script src="/bigmoo/mb1/resource/assets/js/main.js"></script>

	</body>
</html>